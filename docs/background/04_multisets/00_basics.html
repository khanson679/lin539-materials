<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>mathcommands-preproc</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="/style.css" />
  <!-- Include this in HTML headers to activate MathJax. -->
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>
</head>
<body>
<h1 id="sets-with-counters-multisets">Sets with counters: Multisets</h1>
<div class="prereqs">
<ul>
<li>sets (notation)</li>
</ul>
</div>
<p>Sets are an abstract mathematical object that we may think of as collections in a lose sense. They are sometimes likened to bags, but this can be misleading. While bags convey the intuition that sets are unordered, they are unlike sets in that idempotency does not hold: a bag containing two apples is not the same thing as a bag containing one apple. Bags thus are closer to what mathematicians call <strong>multisets</strong>. Like sets, multisets are unordered, but idempotency does not hold; a multiset can contain multiple instances of the same object.</p>
<div class="definition">
<p>A <strong>multiset</strong> is a set where each element has a numerosity. We indicate that a set <span class="math inline">\(S\)</span> is a multiset by prefixing it with a subscripted <span class="math inline">\(M\)</span>, as in <span class="math inline">\(S_M\)</span>. For all <span class="math inline">\(s \in S_M\)</span>, <span class="math inline">\(S_M(s)\)</span> indicates the numerosity or <strong>count</strong> of <span class="math inline">\(s\)</span> in <span class="math inline">\(S_M\)</span>. We may write <span class="math inline">\(S_M(s) = 0\)</span> instead of <span class="math inline">\(s \notin S_M\)</span>.</p>
</div>
<div class="example">
<p>The multiset <span class="math inline">\(\left \{ a,a,b \right \}_M\)</span> contains two occurrences of <span class="math inline">\(a\)</span> and one occurrence of <span class="math inline">\(b\)</span>. Hence <span class="math inline">\(\left \{ a,a,b \right \}_M \neq \left \{ a,b \right \}_M\)</span> even though <span class="math inline">\(\left \{ a,a,b \right \} = \left \{ a,b \right \}\)</span>. However, it still holds that order does not matter: <span class="math inline">\(\left \{ a,a,b \right \}_M = \left \{ a,b,a \right \}_M = \left \{ b, a, a \right \}_M\)</span>, just like <span class="math inline">\(\left \{ a,b \right \} = \left \{ b,a \right \}\)</span>.</p>
</div>
<div class="exercise">
<p>Fill in the gaps with <span class="math inline">\(=\)</span> and <span class="math inline">\(\neq\)</span> as appropriate.</p>
<ul>
<li><span class="math inline">\(\left \{ 5, 5, 7, 8 \right \}_M \_ \left \{ 7, 5, 8, 7 \right \}_M\)</span></li>
<li><span class="math inline">\(\left \{ 5, 3, 4 \right \} \_ \left \{ 5,3,4,4,3,5,5,4,3 \right \}\)</span></li>
<li><span class="math inline">\(\left \{ \text{peanut butter}, \text{jelly} \right \}_M \_ \left \{ \text{peanut butter}, \text{jelly} \right \}_M\)</span></li>
<li><span class="math inline">\(\left \{ \text{John}, \text{John}, \text{John} \right \}_M \_ \left \{ \text{John} \right \}_M\)</span></li>
<li><span class="math inline">\(\left \{ a \right \}_M \_ \left \{ a,a \right \}\)</span></li>
</ul>
</div>
<p>The notation for multisets is much less standardized than that for sets, and not everybody follows the convention of subscripting multisets with <span class="math inline">\(M\)</span>. If an author uses multisets, pay close attention to how they define their notation. Also, it is often convenient to explicitly list the count of each element rather than listing the element multiple times.</p>
<div class="example">
<p>The multiset <span class="math inline">\(A_M \mathrel{\mathop:}=\left \{ a,a,a,b,b,c \right \}\)</span> can be more conveniently written as <span class="math inline">\(A_M \mathrel{\mathop:}=\left \{ a: 3, b: 2, c: 1 \right \}\)</span>. Elements with a count of <span class="math inline">\(0\)</span> are usually omitted, but may be included if this is relevant information.</p>
</div>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="im">from</span> collections <span class="im">import</span> Counter</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a><span class="kw">def</span> set_equals(A, B):</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true"></a>    <span class="bu">print</span>(<span class="st">&quot;</span><span class="sc">{}</span><span class="st"> same set as </span><span class="sc">{}</span><span class="st">?&quot;</span>.<span class="bu">format</span>(A,B), <span class="bu">set</span>(A) <span class="op">==</span> (B))</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true"></a><span class="kw">def</span> multiset_equals(A, B):</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true"></a>    <span class="bu">print</span>(<span class="st">&quot;</span><span class="sc">{}</span><span class="st"> same multiset as </span><span class="sc">{}</span><span class="st">?&quot;</span>.<span class="bu">format</span>(A,B), Counter(A) <span class="op">==</span> Counter(B))</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true"></a>multiset_equals([<span class="st">&quot;a&quot;</span>, <span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>], [<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;d&quot;</span>])</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true"></a>set_equals([<span class="st">&quot;a&quot;</span>, <span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>], [<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;d&quot;</span>])</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true"></a>multiset_equals([<span class="st">&quot;a&quot;</span>, <span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>], [<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>])</span></code></pre></div>
<div class="exercise">
<p>Represent all the multisets in the exercise above with explicit counts.</p>
</div>
<p>With this kind of notation, it also becomes possible to define multisets with set-builder notation. For example, <span class="math inline">\(\left \{ n: 2n \mid n \in \mathbb{N} \right \}\)</span> is the set that contains <span class="math inline">\(2n\)</span> occurrences of every natural number <span class="math inline">\(n\)</span>: <span class="math inline">\(\left \{ 0:0, 1:2, 2:4, 3:6, \ldots \right \}\)</span>.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a>multiset <span class="op">=</span> Counter({n: <span class="dv">2</span><span class="op">*</span>n <span class="cf">for</span> n <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10</span>)})</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a><span class="bu">print</span>(multiset)</span></code></pre></div>
<div class="exercise">
<p>Write down the multiset defined by each set-builder expression. These are not entirely straight-forward, and you’ll have to make some educated guesses as to how to handle special cases.</p>
<ul>
<li><span class="math inline">\(\left \{ n: 10 - n \mid 0 \leq n \leq 10 \right \}\)</span></li>
<li><span class="math inline">\(\left \{ a: b, b: a \mid a,b \geq 0, a + b = 10 \right \}\)</span></li>
</ul>
</div>
</body>
</html>
